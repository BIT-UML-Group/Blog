{{- /* Head custom content area start */ -}}
{{- /*     Insert any custom code (web-analytics, resources, etc.) - it will appear in the <head></head> section of every page. */ -}}
{{- /*     Can be overwritten by partial with the same name in the global layouts. */ -}}
<!-- Mermaid 支持 -->
<link rel='stylesheet' href='https://chinese-fonts-cdn.deno.dev/packages/lxgwwenkai/dist/LXGWWenKai-Light/result.css' /> 
<link rel='stylesheet' href='https://chinese-fonts-cdn.deno.dev/packages/maple-mono-cn/dist/MapleMono-CN-Light/result.css' /> 

<script src="https://cdn.jsdelivr.net/npm/mermaid@9/dist/mermaid.min.js"></script>
<script>
  document.addEventListener("DOMContentLoaded", function () {
    mermaid.initialize({
      startOnLoad: true,
      theme: document.body.classList.contains('dark') ? 'dark' : 'default',
      flowchart: { useMaxWidth: true },
      securityLevel: 'loose'
    });
    
    // 手动初始化所有Mermaid图表
    setTimeout(function() {
      document.querySelectorAll('.mermaid').forEach(function(el) {
        try {
          mermaid.init(undefined, el);
        } catch (e) {
          console.error('Mermaid初始化错误:', e);
        }
      });
    }, 500);
  });
</script>
<style>
  .mermaid {
    text-align: center;
    margin: 1rem auto;
    overflow-x: auto;
  }
</style>
{{- /* Head custom content area end */ -}}
